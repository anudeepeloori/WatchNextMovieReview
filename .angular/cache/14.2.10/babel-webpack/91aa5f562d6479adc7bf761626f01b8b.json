{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LoginComponent = class LoginComponent {\n  //inject UserService obj\n  constructor(ds, router, to) {\n    this.ds = ds;\n    this.router = router;\n    this.to = to;\n  }\n\n  ngOnInit() {}\n\n  onLogin(userCredentials) {\n    this.ds.loginUser(userCredentials).subscribe(res => {\n      if (res.message === \"login success\") {\n        //save token to localstorage\n        localStorage.setItem(\"token\", res.token);\n        localStorage.setItem(\"username\", res.username);\n        localStorage.setItem(\"userObj\", JSON.stringify(res.userObj)); //update userloginstatus\n\n        this.ds.userLoginStatus = true;\n\n        if (userCredentials.type === \"user\") {\n          //navigate to user profile\n          this.router.navigateByUrl(`userprofile`);\n        }\n\n        if (userCredentials.type === \"admin\") {\n          //navigate to admin profile\n          this.router.navigateByUrl(`admin`);\n        }\n      } else {\n        alert(res.message);\n      }\n    }, err => {\n      console.log(err);\n      alert(\"Something went wrong in login\");\n    });\n  }\n\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module"}