{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet MoviesComponent = class MoviesComponent {\n  constructor(ds, router, hc) {\n    this.ds = ds;\n    this.router = router;\n    this.hc = hc;\n    this.p = 1; // for rating\n\n    this.starRating = 0; // Review data object\n\n    this.reviewData = {\n      userId: 1,\n      movieId: null,\n      starRating: 0,\n      reviewText: ''\n    };\n  }\n\n  ngOnInit() {\n    this.ds.getMoviesData().subscribe(items => {\n      this.movieData = items;\n    }, err => {\n      console.log(\"error fetching movies \", err);\n    });\n  } //navigate to specific movies details page\n\n\n  onSelectId(id) {\n    this.router.navigateByUrl('movies/' + id);\n  }\n\n  onRateById() {} //set movie ID before opening the review modal\n\n\n  openReviewModal(movieId) {\n    this.reviewData.movieId = movieId;\n    this.reviewData.starRating = this.starRating; // reset rating\n\n    this.reviewData.reviewText = ''; //reset text \n  } // submit given review\n\n\n  submitReview() {// if(this.reviewData.movieId && this.reviewData.reviewText.trim() !==''){\n    //   this.hc.post('http://localhost:3000/api/reviews',this.reviewData).subscribe(\n    //   res=>{\n    //     console.log(\"review saved succesfully\", res);\n    //     alert('review submitted succesfully!');\n    //   },\n    //   err=>{\n    //     console.error(\"error in saving review\", err);\n    //   }\n    // )\n    // }\n    // else{\n    //   alert(\"Please provide a valid rating and review before submitting\")\n    // }\n  }\n\n};\nMoviesComponent = __decorate([Component({\n  selector: 'app-movies',\n  templateUrl: './movies.component.html',\n  styleUrls: ['./movies.component.css']\n})], MoviesComponent);\nexport { MoviesComponent };","map":null,"metadata":{},"sourceType":"module"}